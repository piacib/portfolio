@use "sass:math";
@import "./style.module.scss";
@import "../HexagonSvg/style.module.scss";
body {
  animation: overflowHide $totalAnimationTime linear forwards;
  //   background: #373940;
}
@keyframes overflowHide {
  from {
    overflow: hidden;
    height: 100dvh;
  }

  to {
    overflow: auto;
  }
}
.scale_down {
  scale: $scaleDown;
}
.scale_to_49 {
  scale: math.div(49, 304);
}
.load-container {
  position: fixed;
  height: 100dvh;
  width: 100dvw;
  background: $background-color;
  animation: opacity ($totalAnimationTime + 2s) linear;
  animation-fill-mode: forwards;
  z-index: 2;
}
.load-container .hexagon {
  top: 0%;
  left: 0%;
  transform: scale(0);
}
@keyframes opacity {
  0% {
    visibility: visible;
  }
  99% {
    visibility: visible;
  }

  100% {
    visibility: hidden;
  }
}
.hexagon {
  fill: $accentColor;
  position: absolute;
}

@for $r from 0 through $radius {
  @for $i from 0 through $r {
    $count: $count + 1;
    .load-container .hexagon:nth-child(#{$count}) {
      margin-top: ($displayHeight * $r) - $halfSvgHeight;
      margin-left: (
          (($r * $halfDisplayWidth * -1)) +
            ($i * $displayWidth) -
            $halfDisplayWidth
        ) -
        $halfSvgWidth;
    }
  }
  @for $i from 0 through $r {
    $count: $count + 1;
    .load-container .hexagon:nth-child(#{$count}) {
      margin-top: (($r * $displayHeight) - ($i * $displayHeight)) -
        $halfSvgHeight;
      margin-left: (
          ($halfDisplayWidth + ($r * $halfDisplayWidth)) +
            ($i * $halfDisplayWidth)
        ) -
        $halfSvgWidth;
    }
  }
  @for $i from 0 through $r {
    $count: $count + 1;
    .load-container .hexagon:nth-child(#{$count}) {
      margin-top: (($displayHeight * -1) - ($i * $displayHeight)) -
        $halfSvgHeight;
      margin-left: (($r * $displayWidth) - ($i * $halfDisplayWidth)) -
        $halfSvgWidth;
    }
  }
  @for $i from 0 through $r {
    $count: $count + 1;
    .load-container .hexagon:nth-child(#{$count}) {
      margin-top: (($r + 1) * $displayHeight * -1) - $halfSvgHeight;
      margin-left: (
          (($r * $halfDisplayWidth)) - ($i * $displayWidth) - $displayWidth
        ) -
        $halfSvgWidth;
    }
  }
  @for $i from 0 through $r {
    $count: $count + 1;
    .load-container .hexagon:nth-child(#{$count}) {
      margin-top: ((($r) * $displayHeight * -1) + ($i * $displayHeight)) -
        $halfSvgHeight;
      margin-left: (
          (($r + 1) * $halfDisplayWidth * -1) -
            ($i * $halfDisplayWidth) -
            $displayWidth
        ) -
        $halfSvgWidth;
    }
  }
  @for $i from 0 through $r {
    $count: $count + 1;
    @if $i != $r {
      .load-container .hexagon:nth-child(#{$count}) {
        margin-top: (
            ($displayHeight * -1) + ($i * $displayHeight) + ($displayHeight * 2)
          ) -
          $halfSvgHeight;
        margin-left: (
            ($r * $displayWidth * -1) + ($i * $halfDisplayWidth) - $displayWidth
          ) -
          $halfSvgWidth;
      }
    } @else {
      $count: $count - 1;
    }
  }
}

@for $r from 0 through $radius {
  .r#{$r} {
    animation-name: pulse;
    animation-duration: $animation-duration; //Pulse speed
    animation-delay: #{$r * 0.25}s;
    animation-iteration-count: 1;
  }
}

@keyframes pulse {
  0% {
    -webkit-transform: scale(0.01);
    transform: scale(0.01);
  }

  50% {
    -webkit-transform: scale(1);
    transform: scale(1);
  }

  100% {
    -webkit-transform: scale(0);
    transform: scale(0);
  }
}

@keyframes rotateHue {
  100% {
    -webkit-filter: hue-rotate(360deg);
    filter: hue-rotate(360deg);
  }
}
